/**
 * MIT License
 *
 * Copyright (c) 2024 benhar-dev
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("mobject-graph-ui")):"function"==typeof define&&define.amd?define(["exports","mobject-graph-ui"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).MobjectGraphUiIecDatatypesPack={},e.MobjectGraphUi)}(this,(function(e,t){"use strict";function n(e,t,n){return t=u(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,l()?Reflect.construct(t,n||[],u(e).constructor):t.apply(e,n))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,c(o.key),o)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(l=function(){return!!e})()}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function c(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var s=function(e){function i(e,r,u){var a,l,p;o(this,i),p=n(this,i,[e,r,u]);var c=(null==u||null===(a=u.content)||void 0===a?void 0:a.defaultValue)||!1,s=(null==u||null===(l=u.content)||void 0===l||null===(l=l.datatype)||void 0===l?void 0:l.typeName)||"",d=new t.ColorGenerator(s);return p.ledComponent=new t.LedComponent(e,c,d),p}return a(i,e),r(i,[{key:"onContentUpdate",value:function(e){this.ledComponent.isActive=e}},{key:"computeSize",value:function(){return this.ledComponent.computeSize()}},{key:"draw",value:function(e,t,n,o,i){this.ledComponent.draw(e,t,n,o,i)}}])}(t.DisplayWidget),d=function(e){function i(e,r,u){var a,l,p;o(this,i),p=n(this,i,[e,r,u]);var c=(null==u||null===(a=u.parameter)||void 0===a?void 0:a.defaultValue)||!1,s=(null==u||null===(l=u.parameter)||void 0===l||null===(l=l.datatype)||void 0===l?void 0:l.typeName)||"",d=new t.ColorGenerator(s);return p.checkboxComponent=new t.CheckboxComponent(e,c,d),p.checkboxComponent.on("onChange",(function(e){p.setValue(e)})),p}return a(i,e),r(i,[{key:"computeSize",value:function(){return this.checkboxComponent.computeSize()}},{key:"mouse",value:function(e,t,n){this.checkboxComponent.onMouse(e,t)}},{key:"draw",value:function(e,t,n,o,i){this.checkboxComponent.draw(e,t,n,o,i)}}])}(t.ControlWidget),y=function(){return r((function e(t){var n;o(this,e),this.content=t,this.metadata=new Map((null!==(n=t.metadata)&&void 0!==n?n:[]).map((function(e){return[e.name.toLowerCase(),e.value]}))),this.datatype=t.datatype||{}}),[{key:"precision",get:function(){return this.getMetadataOrDefault("precision",this.datatype.isFloat?2:0)}},{key:"defaultValue",get:function(){var e;return(null===(e=this.content)||void 0===e?void 0:e.defaultValue)||0}},{key:"getMetadataOrDefault",value:function(e,t){return this.metadata.get(e.toLowerCase())||t}}])}(),m=function(){return r((function e(t){var n;o(this,e),this.parameter=t,this.metadata=new Map((null!==(n=t.metadata)&&void 0!==n?n:[]).map((function(e){return[e.name.toLowerCase(),e.value]}))),this.datatype=t.datatype||{}}),[{key:"minimumValue",get:function(){return this.getMetadataOrDefault("minimumValue",this.datatype.minValue||0)}},{key:"maximumValue",get:function(){return this.getMetadataOrDefault("maximumValue",this.datatype.maxValue||0)}},{key:"precision",get:function(){return this.getMetadataOrDefault("precision",this.datatype.isFloat?2:0)}},{key:"onlyOdd",get:function(){return this.getMetadataOrDefault("onlyOdd",!1)}},{key:"onlyEven",get:function(){return this.getMetadataOrDefault("onlyEven",!1)}},{key:"defaultValue",get:function(){return this.parameter.defaultValue}},{key:"getMetadataOrDefault",value:function(e,t){return this.metadata.get(e.toLowerCase())||t}},{key:"getNumberLimiter",value:function(){var e=null;return this.onlyOdd?e="odd":this.onlyEven&&(e="even"),new t.NumberLimiter(this.minimumValue,this.maximumValue,this.defaultValue,e,this.precision)}}])}(),f=function(e){function i(e,r,u){var a,l;o(this,i),l=n(this,i,[e,r,u]);var p=new y(u.content),c=p.defaultValue,s=p.precision,d=(null==u||null===(a=u.content)||void 0===a||null===(a=a.datatype)||void 0===a?void 0:a.typeName)||"",m=new t.ColorGenerator(d);return l.numericDisplayComponent=new t.NumericDisplayComponent(e,c,s,m),l}return a(i,e),r(i,[{key:"onContentUpdate",value:function(e){this.numericDisplayComponent.value=e}},{key:"computeSize",value:function(){return this.numericDisplayComponent.computeSize()}},{key:"draw",value:function(e,t,n,o,i){this.numericDisplayComponent.draw(e,t,n,o,i)}}])}(t.DisplayWidget),v=function(e){function i(e,r,u){var a,l;o(this,i),l=n(this,i,[e,r,u]);var p=new m(u.parameter),c=p.defaultValue,s=p.precision,d=p.getNumberLimiter(),y=(null==u||null===(a=u.parameter)||void 0===a||null===(a=a.datatype)||void 0===a?void 0:a.typeName)||"",f=new t.ColorGenerator(y);return l.numericInputComponent=new t.NumericInputComponent(e,c,s,d,f),l.numericInputComponent.on("onChange",(function(e){l.setValue(e)})),l}return a(i,e),r(i,[{key:"computeSize",value:function(){return this.numericInputComponent.computeSize()}},{key:"mouse",value:function(e,t,n){this.numericInputComponent.onMouse(e,t,n)}},{key:"draw",value:function(e,t,n,o,i){this.numericInputComponent.draw(e,t,n,o,i)}}])}(t.ControlWidget),g=function(e){function i(e,r,u){var a,l,p;o(this,i),p=n(this,i,[e,r,u]);var c=(null==u||null===(a=u.content)||void 0===a?void 0:a.defaultValue)||"",s=(null==u||null===(l=u.content)||void 0===l||null===(l=l.datatype)||void 0===l?void 0:l.typeName)||"",d=new t.ColorGenerator(s);return p.textDisplayComponent=new t.SingleLineTextDisplayComponent(e,c,d),p}return a(i,e),r(i,[{key:"onContentUpdate",value:function(e){this.textDisplayComponent.text=e}},{key:"computeSize",value:function(){return this.textDisplayComponent.computeSize()}},{key:"draw",value:function(e,t,n,o,i){this.textDisplayComponent.draw(e,t,n,o,i)}}])}(t.DisplayWidget),h=function(e){function i(e,r,u){var a,l,p;o(this,i),p=n(this,i,[e,r,u]);var c=(null==u||null===(a=u.parameter)||void 0===a?void 0:a.defaultValue)||"",s=(null==u||null===(l=u.parameter)||void 0===l||null===(l=l.datatype)||void 0===l?void 0:l.typeName)||"",d=new t.ColorGenerator(s);return p.textInputComponent=new t.SingleLineTextInputComponent(e,c,d),p.textInputComponent.on("onChange",(function(e){p.setValue(e)})),p}return a(i,e),r(i,[{key:"computeSize",value:function(){return this.textInputComponent.computeSize()}},{key:"mouse",value:function(e,t,n){this.textInputComponent.onMouse(e,t)}},{key:"draw",value:function(e,t,n,o,i){this.textInputComponent.draw(e,t,n,o,i)}}])}(t.ControlWidget),C=function(e){function i(e,r,u){var a,l,p;o(this,i),p=n(this,i,[e,r,u]);var c=(null==u||null===(a=u.content)||void 0===a?void 0:a.defaultValue)||"",s=(null==u||null===(l=u.content)||void 0===l||null===(l=l.datatype)||void 0===l?void 0:l.typeName)||"",d=new t.ColorGenerator(s);return p.textDisplayComponent=new t.SingleLineTextDisplayComponent(e,c,d),p}return a(i,e),r(i,[{key:"onContentUpdate",value:function(e){this.textDisplayComponent.text=e}},{key:"computeSize",value:function(){return this.textDisplayComponent.computeSize()}},{key:"draw",value:function(e,t,n,o,i){this.textDisplayComponent.draw(e,t,n,o,i)}}])}(t.DisplayWidget),T=function(e){function i(e,r,u){var a,l,p,c;o(this,i),c=n(this,i,[e,r,u]);var s=(null==u||null===(a=u.parameter)||void 0===a?void 0:a.defaultValue)||"",d=(null==u||null===(l=u.parameter)||void 0===l||null===(l=l.datatype)||void 0===l?void 0:l.enumerations)||[],y=(null==u||null===(p=u.parameter)||void 0===p||null===(p=p.datatype)||void 0===p?void 0:p.typeName)||"",m=new t.ColorGenerator(y);return c.comboboxComponent=new t.ComboboxComponent(e,s,d,m),c.comboboxComponent.on("onChange",(function(e){c.setValue(e)})),c}return a(i,e),r(i,[{key:"computeSize",value:function(){return this.comboboxComponent.computeSize()}},{key:"mouse",value:function(e,t,n){this.comboboxComponent.onMouse(e,t)}},{key:"draw",value:function(e,t,n,o,i){this.comboboxComponent.draw(e,t,n,o,i)}}])}(t.ControlWidget),b=function(){return r((function e(){o(this,e)}),null,[{key:"install",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new t.GraphFramework;this.registerWidgets(e)}},{key:"registerWidgets",value:function(e){e.registerWidgetType(d,"BOOL"),e.registerWidgetType(s,"BOOL"),e.registerWidgetType(v,"BYTE"),e.registerWidgetType(f,"BYTE"),e.registerWidgetType(v,"WORD"),e.registerWidgetType(f,"WORD"),e.registerWidgetType(v,"DWORD"),e.registerWidgetType(f,"DWORD"),e.registerWidgetType(v,"LWORD"),e.registerWidgetType(f,"LWORD"),e.registerWidgetType(v,"INT"),e.registerWidgetType(f,"INT"),e.registerWidgetType(v,"LINT"),e.registerWidgetType(f,"LINT"),e.registerWidgetType(v,"DINT"),e.registerWidgetType(f,"DINT"),e.registerWidgetType(v,"SINT"),e.registerWidgetType(f,"SINT"),e.registerWidgetType(v,"USINT"),e.registerWidgetType(f,"USINT"),e.registerWidgetType(v,"UINT"),e.registerWidgetType(f,"UINT"),e.registerWidgetType(v,"UDINT"),e.registerWidgetType(f,"UDINT"),e.registerWidgetType(v,"ULINT"),e.registerWidgetType(f,"ULINT"),e.registerWidgetType(v,"REAL"),e.registerWidgetType(f,"REAL"),e.registerWidgetType(v,"LREAL"),e.registerWidgetType(f,"LREAL"),e.registerWidgetType(h,"STRING"),e.registerWidgetType(g,"STRING"),e.registerWidgetType(T,"ENUM","*"),e.registerWidgetType(C,"ENUM","*")}}])}();e.IecDatatypesPack=b,Object.defineProperty(e,"__esModule",{value:!0})}));
