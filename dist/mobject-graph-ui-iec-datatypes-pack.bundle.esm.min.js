/**
 * MIT License
 *
 * Copyright (c) 2024 benhar-dev
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */

import{ColorGenerator as e,LedComponent as t,DisplayWidget as n,CheckboxComponent as i,ControlWidget as o,NumberLimiter as r,NumericDisplayComponent as u,NumericInputComponent as a,SingleLineTextDisplayComponent as l,SingleLineTextInputComponent as p,ComboboxComponent as c,GraphFramework as s}from"mobject-graph-ui";function d(e,t,n){return t=v(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,h()?Reflect.construct(t,n||[],v(e).constructor):t.apply(e,n))}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,w(i.key),i)}}function m(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}function w(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var C=function(){function i(n,o,r){var u,a,l;y(this,i),l=d(this,i,[n,o,r]);var p=(null==r||null===(u=r.content)||void 0===u?void 0:u.defaultValue)||!1,c=(null==r||null===(a=r.content)||void 0===a||null===(a=a.datatype)||void 0===a?void 0:a.typeName)||"",s=new e(c);return l.ledComponent=new t(n,p,s),l}return g(i,n),m(i,[{key:"onContentUpdate",value:function(e){this.ledComponent.isActive=e}},{key:"computeSize",value:function(){return this.ledComponent.computeSize()}},{key:"draw",value:function(e,t,n,i,o){this.ledComponent.draw(e,t,n,i,o)}}])}(),b=function(){function t(n,o,r){var u,a,l;y(this,t),l=d(this,t,[n,o,r]);var p=(null==r||null===(u=r.parameter)||void 0===u?void 0:u.defaultValue)||!1,c=(null==r||null===(a=r.parameter)||void 0===a||null===(a=a.datatype)||void 0===a?void 0:a.typeName)||"",s=new e(c);return l.checkboxComponent=new i(n,p,s),l.checkboxComponent.on("onChange",(function(e){l.setValue(e)})),l}return g(t,o),m(t,[{key:"computeSize",value:function(){return this.checkboxComponent.computeSize()}},{key:"mouse",value:function(e,t,n){this.checkboxComponent.onMouse(e,t)}},{key:"draw",value:function(e,t,n,i,o){this.checkboxComponent.draw(e,t,n,i,o)}}])}(),k=function(){return m((function e(t){var n;y(this,e),this.content=t,this.metadata=new Map((null!==(n=t.metadata)&&void 0!==n?n:[]).map((function(e){return[e.name.toLowerCase(),e.value]}))),this.datatype=t.datatype||{}}),[{key:"precision",get:function(){return this.getMetadataOrDefault("precision",this.datatype.isFloat?2:0)}},{key:"defaultValue",get:function(){var e;return(null===(e=this.content)||void 0===e?void 0:e.defaultValue)||0}},{key:"getMetadataOrDefault",value:function(e,t){return this.metadata.get(e.toLowerCase())||t}}])}(),W=function(){return m((function e(t){var n;y(this,e),this.parameter=t,this.metadata=new Map((null!==(n=t.metadata)&&void 0!==n?n:[]).map((function(e){return[e.name.toLowerCase(),e.value]}))),this.datatype=t.datatype||{}}),[{key:"minimumValue",get:function(){return this.getMetadataOrDefault("minimumValue",this.datatype.minValue||0)}},{key:"maximumValue",get:function(){return this.getMetadataOrDefault("maximumValue",this.datatype.maxValue||0)}},{key:"precision",get:function(){return this.getMetadataOrDefault("precision",this.datatype.isFloat?2:0)}},{key:"onlyOdd",get:function(){return this.getMetadataOrDefault("onlyOdd",!1)}},{key:"onlyEven",get:function(){return this.getMetadataOrDefault("onlyEven",!1)}},{key:"defaultValue",get:function(){return this.parameter.defaultValue}},{key:"getMetadataOrDefault",value:function(e,t){return this.metadata.get(e.toLowerCase())||t}},{key:"getNumberLimiter",value:function(){var e=null;return this.onlyOdd?e="odd":this.onlyEven&&(e="even"),new r(this.minimumValue,this.maximumValue,this.defaultValue,e,this.precision)}}])}(),O=function(){function t(n,i,o){var r,a;y(this,t),a=d(this,t,[n,i,o]);var l=new k(o.content),p=l.defaultValue,c=l.precision,s=(null==o||null===(r=o.content)||void 0===r||null===(r=r.datatype)||void 0===r?void 0:r.typeName)||"",f=new e(s);return a.numericDisplayComponent=new u(n,p,c,f),a}return g(t,n),m(t,[{key:"onContentUpdate",value:function(e){this.numericDisplayComponent.value=e}},{key:"computeSize",value:function(){return this.numericDisplayComponent.computeSize()}},{key:"draw",value:function(e,t,n,i,o){this.numericDisplayComponent.draw(e,t,n,i,o)}}])}(),D=function(){function t(n,i,o){var r,u;y(this,t),u=d(this,t,[n,i,o]);var l=new W(o.parameter),p=l.defaultValue,c=l.precision,s=l.getNumberLimiter(),f=(null==o||null===(r=o.parameter)||void 0===r||null===(r=r.datatype)||void 0===r?void 0:r.typeName)||"",m=new e(f);return u.numericInputComponent=new a(n,p,c,s,m),u.numericInputComponent.on("onChange",(function(e){u.setValue(e)})),u}return g(t,o),m(t,[{key:"computeSize",value:function(){return this.numericInputComponent.computeSize()}},{key:"mouse",value:function(e,t,n){this.numericInputComponent.onMouse(e,t,n)}},{key:"draw",value:function(e,t,n,i,o){this.numericInputComponent.draw(e,t,n,i,o)}}])}(),x=function(){function t(n,i,o){var r,u,a;y(this,t),a=d(this,t,[n,i,o]);var p=(null==o||null===(r=o.content)||void 0===r?void 0:r.defaultValue)||"",c=(null==o||null===(u=o.content)||void 0===u||null===(u=u.datatype)||void 0===u?void 0:u.typeName)||"",s=new e(c);return a.textDisplayComponent=new l(n,p,s),a}return g(t,n),m(t,[{key:"onContentUpdate",value:function(e){this.textDisplayComponent.text=e}},{key:"computeSize",value:function(){return this.textDisplayComponent.computeSize()}},{key:"draw",value:function(e,t,n,i,o){this.textDisplayComponent.draw(e,t,n,i,o)}}])}(),N=function(){function t(n,i,o){var r,u,a;y(this,t),a=d(this,t,[n,i,o]);var l=(null==o||null===(r=o.parameter)||void 0===r?void 0:r.defaultValue)||"",c=(null==o||null===(u=o.parameter)||void 0===u||null===(u=u.datatype)||void 0===u?void 0:u.typeName)||"",s=new e(c);return a.textInputComponent=new p(n,l,s),a.textInputComponent.on("onChange",(function(e){a.setValue(e)})),a}return g(t,o),m(t,[{key:"computeSize",value:function(){return this.textInputComponent.computeSize()}},{key:"mouse",value:function(e,t,n){this.textInputComponent.onMouse(e,t)}},{key:"draw",value:function(e,t,n,i,o){this.textInputComponent.draw(e,t,n,i,o)}}])}(),I=function(){function t(n,i,o){var r,u,a;y(this,t),a=d(this,t,[n,i,o]);var p=(null==o||null===(r=o.content)||void 0===r?void 0:r.defaultValue)||"",c=(null==o||null===(u=o.content)||void 0===u||null===(u=u.datatype)||void 0===u?void 0:u.typeName)||"",s=new e(c);return a.textDisplayComponent=new l(n,p,s),a}return g(t,n),m(t,[{key:"onContentUpdate",value:function(e){this.textDisplayComponent.text=e}},{key:"computeSize",value:function(){return this.textDisplayComponent.computeSize()}},{key:"draw",value:function(e,t,n,i,o){this.textDisplayComponent.draw(e,t,n,i,o)}}])}(),S=function(){function t(n,i,o){var r,u,a,l;y(this,t),l=d(this,t,[n,i,o]);var p=(null==o||null===(r=o.parameter)||void 0===r?void 0:r.defaultValue)||"",s=(null==o||null===(u=o.parameter)||void 0===u||null===(u=u.datatype)||void 0===u?void 0:u.enumerations)||[],f=(null==o||null===(a=o.parameter)||void 0===a||null===(a=a.datatype)||void 0===a?void 0:a.typeName)||"",m=new e(f);return l.comboboxComponent=new c(n,p,s,m),l.comboboxComponent.on("onChange",(function(e){l.setValue(e)})),l}return g(t,o),m(t,[{key:"computeSize",value:function(){return this.comboboxComponent.computeSize()}},{key:"mouse",value:function(e,t,n){this.comboboxComponent.onMouse(e,t)}},{key:"draw",value:function(e,t,n,i,o){this.comboboxComponent.draw(e,t,n,i,o)}}])}(),V=function(){return m((function e(){y(this,e)}),[{key:"install",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new s,t=arguments.length>1?arguments[1]:void 0;this.registerWidgets(e,t)}},{key:"registerWidgets",value:function(e,t){e.registerWidgetType(b,"BOOL"),e.registerWidgetType(C,"BOOL"),e.registerWidgetType(D,"BYTE"),e.registerWidgetType(O,"BYTE"),e.registerWidgetType(D,"WORD"),e.registerWidgetType(O,"WORD"),e.registerWidgetType(D,"DWORD"),e.registerWidgetType(O,"DWORD"),e.registerWidgetType(D,"LWORD"),e.registerWidgetType(O,"LWORD"),e.registerWidgetType(D,"INT"),e.registerWidgetType(O,"INT"),e.registerWidgetType(D,"LINT"),e.registerWidgetType(O,"LINT"),e.registerWidgetType(D,"DINT"),e.registerWidgetType(O,"DINT"),e.registerWidgetType(D,"SINT"),e.registerWidgetType(O,"SINT"),e.registerWidgetType(D,"USINT"),e.registerWidgetType(O,"USINT"),e.registerWidgetType(D,"UINT"),e.registerWidgetType(O,"UINT"),e.registerWidgetType(D,"UDINT"),e.registerWidgetType(O,"UDINT"),e.registerWidgetType(D,"ULINT"),e.registerWidgetType(O,"ULINT"),e.registerWidgetType(D,"REAL"),e.registerWidgetType(O,"REAL"),e.registerWidgetType(D,"LREAL"),e.registerWidgetType(O,"LREAL"),e.registerWidgetType(N,"STRING"),e.registerWidgetType(x,"STRING"),e.registerWidgetType(S,"ENUM","*"),e.registerWidgetType(I,"ENUM","*")}}])}();export{V as IecDatatypesPack};
